<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Guru - Buku Induk Siswa</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <style>
        /* === DESAIN BARU: PANEL GURU MODERN === */
        :root {
            --primary-color: #2563eb;
            --primary-hover: #1d4ed8;
            --secondary-color: #f3f4f6;
            --text-color: #1f2937;
            --text-muted: #6b7280;
            --border-color: #e5e7eb;
            --danger-color: #ef4444;
            --success-color: #10b981;
            --sidebar-bg: #111827;
            --sidebar-link-color: #9ca3af;
            --sidebar-link-hover: #ffffff;
            --sidebar-link-active: #ffffff;
            --sidebar-active-bg: var(--primary-color);
            --white-color: #ffffff;
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --border-radius-md: 8px;
            --border-radius-lg: 12px;
            --transition-speed: 0.3s;
            --sidebar-width: 260px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', 'Poppins', sans-serif;
            background-color: var(--secondary-color);
            color: var(--text-color);
            line-height: 1.6;
        }
        
        /* === HALAMAN LOGIN NEUMORPHIC === */
        .login-screen { display: flex; align-items: center; justify-content: center; min-height: 100vh; background: linear-gradient(145deg, #e2e8f0, #f8fafc); }
        #loginCard { background: #eef2f7; padding: 2.5rem 3rem; border-radius: 30px; box-shadow: 9px 9px 18px #c5cdd5, -9px -9px 18px #ffffff; width: 100%; max-width: 420px; text-align: center; animation: contentFadeIn 0.6s ease-out; border: 1px solid rgba(255, 255, 255, 0.8); }
        #loginCard h1 { font-size: 1.8rem; font-weight: 700; color: var(--text-color); margin-bottom: 0.5rem; }
        #loginCard h1 .fa-chalkboard-user { color: var(--primary-color); }
        #loginCard > p { color: var(--text-muted); margin-bottom: 2rem; }
        #loginCard .form-group { text-align: left; margin-bottom: 1.5rem; }
        #loginCard .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-muted); }
        #loginCard .form-group input { width: 100%; padding: 1rem; border: none; border-radius: 15px; background: #eef2f7; box-shadow: inset 5px 5px 10px #c5cdd5, inset -5px -5px 10px #ffffff; font-size: 1rem; color: var(--text-color); transition: box-shadow 0.3s ease; }
        #loginCard .form-group input:focus { outline: none; box-shadow: inset 7px 7px 14px #c5cdd5, inset -7px -7px 14px #ffffff; }
        #loginCard .btn { width: 100%; margin-top: 1rem; padding: 1rem; border-radius: 15px; border: none; font-size: 1rem; font-weight: 700; letter-spacing: 0.5px; transition: all 0.3s ease; cursor: pointer; box-shadow: 5px 5px 10px #c5cdd5, -5px -5px 10px #ffffff; text-decoration: none; display: inline-block; }
        #loginCard .btn:active { transform: translateY(2px); }
        #loginCard button.btn-primary { background-color: var(--primary-color); color: var(--white-color); }
        #loginCard button.btn-primary:hover { background-color: var(--primary-hover); box-shadow: 7px 7px 14px #c5cdd5, -7px -7px 14px #ffffff; }
        #loginCard button.btn-primary:active { box-shadow: inset 5px 5px 10px #1a43a1, inset -5px -5px 10px #2b77ff; }
        #loginCard a.btn-primary { margin-top: 0.75rem; background-color: #6b7280; color: var(--white-color); }
        #loginCard a.btn-primary:hover { background-color: #4b5563; }
        #loginCard a.btn-primary:active { box-shadow: inset 5px 5px 10px #3e4651, inset -5px -5px 10px #98a4b5; }
        #loginCard #errorMessage { color: var(--danger-color); margin-top: 1rem; height: 20px; font-weight: 500; }

        /* === TATA LETAK UTAMA DENGAN SIDEBAR === */
        .app-container { display: flex; }
        .sidebar { width: var(--sidebar-width); background-color: var(--sidebar-bg); color: var(--white-color); position: fixed; top: 0; left: 0; height: 100vh; display: flex; flex-direction: column; transition: width 0.3s ease; z-index: 100; }
        .main-content-wrapper { flex-grow: 1; margin-left: var(--sidebar-width); transition: margin-left 0.3s ease; }
        #pageContent { padding: 2rem; }

        /* === SIDEBAR === */
        .sidebar-header { padding: 1.5rem; text-align: center; border-bottom: 1px solid #374151; }
        .sidebar-header img { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; margin-bottom: 0.5rem; }
        .sidebar-header h2 { font-size: 1.1rem; margin: 0; font-weight: 600; white-space: nowrap; }
        .sidebar-nav { flex-grow: 1; overflow-y: auto; }
        .sidebar-nav ul { list-style: none; padding: 1rem 0; }
        .sidebar-nav a { display: flex; align-items: center; padding: 0.85rem 1.5rem; color: var(--sidebar-link-color); text-decoration: none; transition: all 0.2s ease; font-weight: 500; }
        .sidebar-nav a:hover { background-color: #374151; color: var(--sidebar-link-hover); }
        .sidebar-nav a.active { background-color: var(--sidebar-active-bg); color: var(--sidebar-link-active); font-weight: 600; }
        .sidebar-nav .icon { width: 20px; text-align: center; margin-right: 1rem; font-size: 1.1rem; }
        
        .submenu { list-style: none; padding-left: 2rem; max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
        .submenu.open { max-height: 500px; /* Adjust as needed */ }
        .submenu a { padding-left: 2.5rem; font-size: 0.9rem; }
        .submenu a::before { content: 'Â»'; margin-right: 0.75rem; }

        .sidebar-footer { padding: 1.5rem; border-top: 1px solid #374151; }
        #logoutBtn { width: 100%; }

        /* === KONTEN UTAMA === */
        .page-section { display: none; }
        .page-section.active { display: block; animation: contentFadeIn 0.5s ease; }
        @keyframes contentFadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        
        .header-container { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1.5rem; background-color: var(--white-color); padding: 1rem 2rem; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md); margin-bottom: 2rem; }
        .header-container h1 { font-size: 1.5rem; margin: 0; display: flex; align-items: center; gap: 0.75rem; }
        .header-container .fa-solid { color: var(--primary-color); }
        .header-controls { display: flex; align-items: center; gap: 1.5rem; flex-wrap: wrap; }
        .year-selector label { font-weight: 600; }
        #welcomeMessage { font-weight: 500; color: var(--text-muted); }

        .card { background: var(--white-color); padding: 2rem; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md); margin-bottom: 2rem; }
        .card h3 { font-size: 1.25rem; margin-bottom: 1.5rem; border-bottom: 1px solid var(--border-color); padding-bottom: 1rem; }

        /* === TOMBOL & TABEL (Sama seperti sebelumnya) === */
        .btn { padding: 0.7rem 1.25rem; border: none; border-radius: var(--border-radius-md); cursor: pointer; font-size: 0.9rem; font-weight: 600; display: inline-flex; align-items: center; gap: 0.5rem; transition: all var(--transition-speed) ease; }
        .btn:active { transform: translateY(2px); }
        .btn-primary { background-color: var(--primary-color); color: var(--white-color); }
        .btn-primary:hover { background-color: var(--primary-hover); }
        .btn-secondary { background-color: #6b7280; color: var(--white-color); }
        .btn-secondary:hover { background-color: #4b5563; }
        .btn-outline { background: var(--white-color); color: var(--text-color); border: 1px solid var(--border-color); }
        .btn-outline:hover { background: var(--secondary-color); border-color: #d1d5db; }

        .table-wrapper { overflow-x: auto; border: 1px solid var(--border-color); border-radius: var(--border-radius-md); max-height: 70vh; }
        table { width: 100%; border-collapse: collapse; white-space: nowrap; }
        th, td { padding: 0.75rem 1rem; text-align: left; border-bottom: 1px solid var(--border-color); vertical-align: middle; }
        thead th { font-weight: 600; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; color: var(--text-muted); background-color: var(--secondary-color); position: sticky; top: 0; z-index: 10; }
        tbody tr:hover { background-color: #eef2ff; }
        th:first-child, td:first-child { position: sticky; left: 0; background-color: inherit; }
        th:nth-child(2), td:nth-child(2) { position: sticky; left: 80px; background-color: inherit; }
        table input, table select { width: 90px; padding: 6px 8px; border: 1px solid transparent; border-radius: var(--border-radius-md); background-color: transparent; text-align: center; font-size: 0.95rem; transition: all var(--transition-speed) ease; }
        table input:focus, table select:focus { border-color: var(--primary-color); background-color: var(--white-color); box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2); }
        table select { width: 150px; text-align: left; }
        .character-value-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem; }
        .character-table-card { background-color: var(--white-color); padding: 1.5rem; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md); }
        .character-table-card h4 { font-size: 1.1rem; margin-bottom: 1rem; }

        /* === MODAL & NOTIFIKASI === */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(17, 24, 39, 0.6); backdrop-filter: blur(4px); }
        .modal.show { animation: contentFadeIn 0.3s forwards; }
        .modal-content { background-color: #fefefe; margin: 10% auto; padding: 0; border: none; width: 95%; max-width: 500px; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-lg); overflow: hidden; animation: slideInUp 0.4s ease-out; }
        @keyframes slideInUp { from { transform: translateY(50px) scale(0.98); opacity: 0; } to { transform: translateY(0) scale(1); opacity: 1; } }
        .modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border-color); padding: 1.25rem 2rem; background-color: var(--secondary-color); }
        .modal-header h2 { font-size: 1.25rem; margin-bottom: 0; }
        .close-button { color: var(--text-muted); font-size: 28px; font-weight: bold; cursor: pointer; }
        .modal-body { padding: 2rem; }
        #notification { position: fixed; bottom: 20px; right: 20px; background-color: var(--success-color); color: white; padding: 1rem 1.5rem; border-radius: var(--border-radius-md); box-shadow: var(--shadow-lg); z-index: 2000; opacity: 0; visibility: hidden; transform: translateY(20px); transition: all 0.4s ease-in-out; }
        #notification.show { opacity: 1; visibility: visible; transform: translateY(0); }
    </style>
</head>
<body>
    <script src="./Bangbin.js"></script>

    <div id="loginScreen" class="login-screen">
        <div id="loginCard" class="login-card">
            <h1><i class="fa-solid fa-chalkboard-user"></i> Selamat Datang</h1>
            <p>Silakan login untuk mengakses Panel Guru.</p>
            <form id="loginForm">
                <div class="form-group"><label for="username">Username</label><input type="text" id="username" required></div>
                <div class="form-group"><label for="password">Password</label><input type="password" id="password" required></div>
                <button type="submit" class="btn btn-primary">Login</button>
				<a href="./" class="btn btn-primary"><i class="fa-solid fa-home"></i> Beranda</a>
                <p id="errorMessage"></p>
            </form>
        </div>
    </div>

    <div id="appContainer" class="app-container" style="display: none;">
        <nav class="sidebar">
            <div class="sidebar-header">
                <img id="schoolLogo" src="" alt="Logo Sekolah">
                <h2 id="schoolName">Nama Sekolah</h2>
            </div>
            <div class="sidebar-nav">
                <ul>
                    <li><a href="./" class="nav-link active" data-target="home"><i class="fas fa-home icon"></i> <span>Home</span></a></li>
                    <li>
                        <a href="#" class="nav-link has-submenu" data-target="intrakurikuler"><i class="fas fa-book-reader icon"></i> <span>Intrakurikuler</span></a>
                        <ul class="submenu">
                            <li><a href="#nilai-intra-s1" class="nav-link" data-target="nilai-intra-s1">Semester 1</a></li>
                            <li><a href="#nilai-intra-s2" class="nav-link" data-target="nilai-intra-s2">Semester 2</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="nav-link has-submenu" data-target="ekstrakurikuler"><i class="fas fa-running icon"></i> <span>Ekstrakurikuler</span></a>
                        <ul class="submenu">
                            <li><a href="#ekstrakurikuler-s1" class="nav-link" data-target="ekstrakurikuler-s1">Semester 1</a></li>
                            <li><a href="#ekstrakurikuler-s2" class="nav-link" data-target="ekstrakurikuler-s2">Semester 2</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="nav-link has-submenu" data-target="kokurikuler"><i class="fas fa-award icon"></i> <span>Kokurikuler</span></a>
                         <ul class="submenu">
                            <li><a href="#kokurikuler-s1" class="nav-link" data-target="kokurikuler-s1">Semester 1</a></li>
                            <li><a href="#kokurikuler-s2" class="nav-link" data-target="kokurikuler-s2">Semester 2</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="sidebar-footer">
                 <button id="logoutBtn" class="btn btn-secondary"><i class="fa-solid fa-right-from-bracket"></i> Logout</button>
            </div>
        </nav>

        <div class="main-content-wrapper">
             <header class="header-container">
                <h1 id="pageTitle"><i class="fa-solid fa-user"></i> Dashboard Guru</h1>
                <div class="header-controls">
                    <div class="year-selector">
                        <label for="tahunPelajaranSelector">Tahun Pelajaran:</label>
                        <select id="tahunPelajaranSelector" class="btn btn-outline"></select>
                    </div>
                    <span id="welcomeMessage"></span>
                </div>
            </header>
            <main id="pageContent">
                <section id="home" class="page-section active">
                    <div class="card">
                        <h3 id="welcomeCardTitle">Selamat Datang di Panel Guru</h3>
                        <p id="welcomeCardInfo">Gunakan menu di samping untuk mengelola data nilai siswa. Anda saat ini mengajar di rombel <b id="infoRombel"></b>.</p>
                    </div>
                </section>
                <section id="nilai-intra-s1" class="page-section">
                    <div class="card">
                        <h3>Input Nilai Akademik & Absensi (Semester 1)</h3>
                        <div class="table-wrapper"><table id="siswaTable1"></table></div>
                    </div>
                </section>
                <section id="nilai-intra-s2" class="page-section">
                     <div class="card">
                        <h3>Input Nilai Akademik & Absensi (Semester 2)</h3>
                        <div class="table-wrapper"><table id="siswaTable2"></table></div>
                    </div>
                </section>
                <section id="ekstrakurikuler-s1" class="page-section">
                    <div class="card">
                        <h3>Input Nilai Ekstrakurikuler (Semester 1)</h3>
                        <div id="ekstraTables1"></div>
                    </div>
                </section>
                 <section id="ekstrakurikuler-s2" class="page-section">
                    <div class="card">
                        <h3>Input Nilai Ekstrakurikuler (Semester 2)</h3>
                        <div id="ekstraTables2"></div>
                    </div>
                </section>
                <section id="kokurikuler-s1" class="page-section">
                    <div class="card">
                        <h3>Input Nilai Karakter (Semester 1)</h3>
                        <div class="character-value-container" id="characterTables1"></div>
                    </div>
                </section>
                 <section id="kokurikuler-s2" class="page-section">
                    <div class="card">
                        <h3>Input Nilai Karakter (Semester 2)</h3>
                        <div class="character-value-container" id="characterTables2"></div>
                    </div>
                </section>
            </main>
        </div>
    </div>
    
    <div id="notification"></div>
    <div id="confirmPromptModal" class="modal">
        <div class="modal-content">
            <div class="modal-header"><h2>Perhatian</h2><span class="close-button">&times;</span></div>
            <div class="modal-body"><p id="promptMessage"></p></div>
        </div>
    </div>
    
    <script>

	function _0xd7d5(_0x20c1d5,_0x126cac){const _0x46f062=_0x46f0();return _0xd7d5=function(_0xd7d566,_0x36ac9f){_0xd7d566=_0xd7d566-0x8a;let _0x141ae2=_0x46f062[_0xd7d566];return _0x141ae2;},_0xd7d5(_0x20c1d5,_0x126cac);}function _0x46f0(){const _0x209578=[')</option>','input,\x20select','pageTitle','status','</th>','\x22\x20data-semester=\x22','siswaTable2','Aktif','classList','some','</tr>','textContent','characterGradeOptions','forEach','infoRombel','<td><input\x20type=\x22number\x22\x20min=\x220\x22\x20value=\x22','\x22><option\x20value=\x22\x22>--Pilih--</option>','Username,\x20Password,\x20atau\x20Role\x20salah!','1463840LIVXnO','querySelector','Guru','getItem','<td><input\x20type=\x22text\x22\x20value=\x22','subValues','<div\x20class=\x22character-table-card\x22><h4>','nama','<td><select\x20data-student-id=\x22','querySelectorAll','<tbody>','siswaTable1','link','role','</tr></thead><tbody>','Selamat\x20Datang,\x20','<td><input\x20type=\x22number\x22\x20min=\x220\x22\x20max=\x22100\x22\x20value=\x22','tahunPelajaranSelector','type','enrollment','\x22\x20data-type=\x22absence\x22\x20data-name=\x22sakit\x22\x20data-semester=\x22','setItem','find','display','join','1689952FJvZAD','appendChild','305498GoRarN','character','<th>','characterTables2','subject','stringify','<th>Sakit</th><th>Izin</th><th>Alpha</th></tr></thead>','schoolInfo','Nilai\x20tersimpan.','<tr><td>','\x22\x20data-type=\x22absence\x22\x20data-name=\x22alpha\x22\x20data-semester=\x22','addEventListener','welcomeCardTitle','characterTables1','click','toggle','remove','style','grades','selected','academicYears','izin','.sidebar-nav\x20a.nav-link','location','245959rBessg','absence','open','.submenu.open','characterName','span','N/A','semester1','\x22\x20data-type=\x22extracurricular\x22\x20data-name=\x22','contains','parse','rel','add','getElementById','semester2','value','target','absences','home','DOMContentLoaded','extracurriculars','</option>','</td><td>','block','loginScreen','map','closest','rombelAjar','\x22></td>','outerHTML','keys','users','subjects','</select></td>','dataset','.sidebar-nav\x20a.active','Selamat\x20datang,\x20','loggedInUser','rombel','src','removeItem','</td>','active','reload','\x22\x20data-sub-name=\x22','2373264aTCCbm','matches','studentId','<option\x20value=\x22','change','values','createElement','show','innerHTML','<p\x20style=\x22text-align:center;\x22>Belum\x20ada\x20data\x20siswa.</p>','logoutBtn','\x22\x20data-student-id=\x22','logoUrl','<p>Tidak\x20ada\x20data\x20ekstrakurikuler\x20untuk\x20diinput.</p>','s_nisn','name','\x22\x20data-type=\x22absence\x22\x20data-name=\x22izin\x22\x20data-semester=\x22','username','masterSiswa','sort','subName','519674cOqcNm','icon','flatMap','194898PbvxHf','</tbody></table></div></div>','className','<div\x20class=\x22table-wrapper\x22><table><thead><tr><th>NISN</th><th>Nama\x20Siswa</th>','length','extracurricular','ekstraTables2','\x22\x20data-type=\x22character\x22\x20data-character-name=\x22','preventDefault','submit','href','24UoZrIY','s_nama','none','alpha','password','ekstraTables1'];_0x46f0=function(){return _0x209578;};return _0x46f0();}const _0x43fc8e=_0xd7d5;(function(_0x4ffa1b,_0x5b78fd){const _0x446793=_0xd7d5,_0x475e56=_0x4ffa1b();while(!![]){try{const _0x4e70b3=-parseInt(_0x446793(0xaf))/0x1+parseInt(_0x446793(0x109))/0x2+parseInt(_0x446793(0x10c))/0x3+parseInt(_0x446793(0xad))/0x4+parseInt(_0x446793(0x94))/0x5+-parseInt(_0x446793(0xf4))/0x6+-parseInt(_0x446793(0xc7))/0x7*(parseInt(_0x446793(0x117))/0x8);if(_0x4e70b3===_0x5b78fd)break;else _0x475e56['push'](_0x475e56['shift']());}catch(_0x19832b){_0x475e56['push'](_0x475e56['shift']());}}}(_0x46f0,0x39086),document[_0x43fc8e(0xba)](_0x43fc8e(0xda),function(){const _0x251704=_0x43fc8e;let _0x5e4c2a=getDb()||setDefaultData();const _0x1d56f8=()=>{const _0x279834=_0xd7d5;if(_0x5e4c2a?.[_0x279834(0xb6)]?.[_0x279834(0x100)]){const _0x292469=document[_0x279834(0xfa)](_0x279834(0xa0));_0x292469[_0x279834(0xd2)]=_0x279834(0x10a),_0x292469['type']='image/x-icon',_0x292469[_0x279834(0x116)]=_0x5e4c2a[_0x279834(0xb6)][_0x279834(0x100)],document['head'][_0x279834(0xae)](_0x292469);}};_0x1d56f8();const _0x4e66d4=document[_0x251704(0xd4)](_0x251704(0xdf)),_0x2713a0=document[_0x251704(0xd4)]('appContainer'),_0x23fb92=document[_0x251704(0xd4)]('loginForm');let _0x5425f='';const _0x1cc1a4=_0x541216=>{const _0xaedbb6=_0x251704,_0x13101a=document['getElementById']('notification');_0x13101a[_0xaedbb6(0x8d)]=_0x541216,_0x13101a[_0xaedbb6(0x10e)]=_0xaedbb6(0xfb),setTimeout(()=>_0x13101a[_0xaedbb6(0x8a)][_0xaedbb6(0xbf)](_0xaedbb6(0xfb)),0x5dc);},_0x1c8a95=_0x378e7a=>{const _0x2bad89=_0x251704,_0xaba848=document[_0x2bad89(0x95)]('.nav-link[data-target=\x22'+_0x378e7a+'\x22]');if(_0xaba848){const _0x1f6392=_0xaba848[_0x2bad89(0x95)]('.icon')[_0x2bad89(0xe4)],_0x4f91ed=_0xaba848['querySelector']('span')?_0xaba848[_0x2bad89(0x95)](_0x2bad89(0xcc))[_0x2bad89(0x8d)]:_0xaba848['textContent'];document[_0x2bad89(0xd4)](_0x2bad89(0x11f))[_0x2bad89(0xfc)]=_0x1f6392+'\x20'+_0x4f91ed;}},_0x2aa13a=document['querySelectorAll'](_0x251704(0xc5));_0x2aa13a['forEach'](_0x1a64eb=>{const _0x3f0905=_0x251704;_0x1a64eb['addEventListener'](_0x3f0905(0xbd),function(_0x598f3d){const _0x3b616e=_0x3f0905;if(this[_0x3b616e(0x8a)][_0x3b616e(0xd0)]('has-submenu')){_0x598f3d[_0x3b616e(0x114)](),this['nextElementSibling'][_0x3b616e(0x8a)][_0x3b616e(0xbe)]('open');return;}_0x598f3d[_0x3b616e(0x114)]();const _0x1fc340=this[_0x3b616e(0xe9)][_0x3b616e(0xd7)];document[_0x3b616e(0x9d)]('.page-section.active')[_0x3b616e(0x8f)](_0xbb10ba=>_0xbb10ba[_0x3b616e(0x8a)][_0x3b616e(0xbf)](_0x3b616e(0xf1))),document[_0x3b616e(0xd4)](_0x1fc340)?.[_0x3b616e(0x8a)][_0x3b616e(0xd3)](_0x3b616e(0xf1)),document['querySelectorAll'](_0x3b616e(0xea))[_0x3b616e(0x8f)](_0x172c3b=>_0x172c3b[_0x3b616e(0x8a)][_0x3b616e(0xbf)]('active')),this[_0x3b616e(0x8a)][_0x3b616e(0xd3)]('active'),document[_0x3b616e(0x9d)](_0x3b616e(0xca))['forEach'](_0x38d4d0=>{const _0x507992=_0x3b616e;!this[_0x507992(0xe1)]('.submenu')&&_0x38d4d0[_0x507992(0x8a)][_0x507992(0xbf)](_0x507992(0xc9));}),_0x1c8a95(_0x1fc340);});});const _0x1ac55a=()=>{const _0x56a6de=_0x251704,_0x5dfd8d=JSON[_0x56a6de(0xd1)](sessionStorage[_0x56a6de(0x97)](_0x56a6de(0xec))),_0xf55577=_0x5e4c2a[_0x56a6de(0xc3)][_0x5425f]?.[_0x56a6de(0xe6)][_0x56a6de(0xaa)](_0x2692ff=>_0x2692ff['username']===_0x5dfd8d[_0x56a6de(0x105)]&&_0x2692ff[_0x56a6de(0xa1)]===_0x56a6de(0x96));if(!_0xf55577||!_0xf55577['rombelAjar']){document[_0x56a6de(0x9d)]('.page-section')[_0x56a6de(0x8f)](_0x1636cf=>_0x1636cf[_0x56a6de(0xc0)][_0x56a6de(0xab)]='none'),document[_0x56a6de(0xd4)](_0x56a6de(0xd9))[_0x56a6de(0xc0)][_0x56a6de(0xab)]=_0x56a6de(0xde),document[_0x56a6de(0xd4)]('welcomeCardInfo')[_0x56a6de(0x8d)]='Anda\x20tidak\x20ditugaskan\x20sebagai\x20wali\x20kelas\x20di\x20tahun\x20ajaran\x20'+_0x5425f+'.';return;}const _0x12f26f=_0xf55577[_0x56a6de(0xe2)];document['getElementById'](_0x56a6de(0x90))[_0x56a6de(0x8d)]=_0x12f26f;const _0x57ddd8=_0x5e4c2a['academicYears'][_0x5425f]?.[_0x56a6de(0xa7)]['filter'](_0x11718a=>_0x11718a[_0x56a6de(0xed)]===_0x12f26f&&_0x11718a[_0x56a6de(0x120)]===_0x56a6de(0x124));if(!_0x57ddd8||_0x57ddd8[_0x56a6de(0x110)]===0x0){const _0x1d8edc='<tbody><tr><td\x20colspan=\x22100\x22\x20style=\x22text-align:center;\x22>Belum\x20ada\x20data\x20siswa.</td></tr></tbody>';document['getElementById'](_0x56a6de(0x9f))['innerHTML']=_0x1d8edc,document[_0x56a6de(0xd4)](_0x56a6de(0x123))['innerHTML']=_0x1d8edc,document[_0x56a6de(0xd4)]('ekstraTables1')[_0x56a6de(0xfc)]=_0x56a6de(0xfd),document[_0x56a6de(0xd4)](_0x56a6de(0x112))['innerHTML']='<p\x20style=\x22text-align:center;\x22>Belum\x20ada\x20data\x20siswa.</p>',document[_0x56a6de(0xd4)]('characterTables1')[_0x56a6de(0xfc)]='<p\x20style=\x22text-align:center;\x22>Belum\x20ada\x20data\x20siswa.</p>',document[_0x56a6de(0xd4)](_0x56a6de(0xb2))['innerHTML']=_0x56a6de(0xfd);return;}_0x288589(document[_0x56a6de(0xd4)](_0x56a6de(0x9f)),_0x57ddd8,_0x56a6de(0xce)),_0x288589(document[_0x56a6de(0xd4)](_0x56a6de(0x123)),_0x57ddd8,'semester2'),_0x4a8bd0(document[_0x56a6de(0xd4)](_0x56a6de(0x11c)),_0x57ddd8,_0x56a6de(0xce)),_0x4a8bd0(document[_0x56a6de(0xd4)]('ekstraTables2'),_0x57ddd8,_0x56a6de(0xd5)),_0x3c89da(document[_0x56a6de(0xd4)](_0x56a6de(0xbc)),_0x57ddd8,_0x56a6de(0xce)),_0x3c89da(document['getElementById'](_0x56a6de(0xb2)),_0x57ddd8,_0x56a6de(0xd5));},_0x288589=(_0x976fb0,_0x2262cf,_0x483618)=>{const _0x5a5b8c=_0x251704,_0x419224=_0x5e4c2a[_0x5a5b8c(0xc3)][_0x5425f]?.[_0x5a5b8c(0xe7)]||[];let _0x17f245='<thead><tr><th>NISN</th><th>Nama\x20Siswa</th>';_0x419224[_0x5a5b8c(0x8f)](_0x4c3404=>_0x17f245+='<th>'+_0x4c3404['shortName']+_0x5a5b8c(0x121)),_0x17f245+=_0x5a5b8c(0xb5);let _0x1113f4=_0x5a5b8c(0x9e);_0x2262cf[_0x5a5b8c(0x8f)](_0x5070eb=>{const _0x44ec41=_0x5a5b8c,_0x4187cd=_0x5e4c2a[_0x44ec41(0x106)][_0x44ec41(0xaa)](_0x3706c7=>_0x3706c7['id']===_0x5070eb[_0x44ec41(0xf6)]);if(!_0x4187cd)return;const _0x1fa05b=_0x4187cd[_0x44ec41(0xc1)]?.[_0x5425f]?.[_0x483618]||{},_0x2d9a70=_0x1fa05b[_0x44ec41(0xd8)]||{};let _0x21c785=_0x44ec41(0xb8)+_0x4187cd[_0x44ec41(0x102)]+_0x44ec41(0xdd)+_0x4187cd[_0x44ec41(0x118)]+_0x44ec41(0xf0);_0x419224['forEach'](_0x53da73=>_0x21c785+=_0x44ec41(0xa4)+(_0x1fa05b[_0x44ec41(0xe7)]?.[_0x53da73['shortName']]||'')+'\x22\x20data-student-id=\x22'+_0x4187cd['id']+'\x22\x20data-type=\x22subject\x22\x20data-name=\x22'+_0x53da73['shortName']+_0x44ec41(0x122)+_0x483618+_0x44ec41(0xe3)),_0x21c785+=_0x44ec41(0x91)+(_0x2d9a70['sakit']||0x0)+_0x44ec41(0xff)+_0x4187cd['id']+_0x44ec41(0xa8)+_0x483618+_0x44ec41(0xe3),_0x21c785+=_0x44ec41(0x91)+(_0x2d9a70[_0x44ec41(0xc4)]||0x0)+_0x44ec41(0xff)+_0x4187cd['id']+_0x44ec41(0x104)+_0x483618+_0x44ec41(0xe3),_0x21c785+='<td><input\x20type=\x22number\x22\x20min=\x220\x22\x20value=\x22'+(_0x2d9a70[_0x44ec41(0x11a)]||0x0)+_0x44ec41(0xff)+_0x4187cd['id']+_0x44ec41(0xb9)+_0x483618+_0x44ec41(0xe3),_0x21c785+='</tr>',_0x1113f4+=_0x21c785;}),_0x976fb0[_0x5a5b8c(0xfc)]=_0x17f245+'</tbody>'+_0x1113f4;},_0x4a8bd0=(_0x254e72,_0x480004,_0x4ef707)=>{const _0xb9f6c4=_0x251704,_0x483765=_0x5e4c2a['academicYears'][_0x5425f]?.[_0xb9f6c4(0xdb)]||[];_0x254e72[_0xb9f6c4(0xfc)]='';if(_0x483765[_0xb9f6c4(0x110)]===0x0){_0x254e72[_0xb9f6c4(0xfc)]=_0xb9f6c4(0x101);return;}let _0x277a2c=_0xb9f6c4(0x10f);_0x483765[_0xb9f6c4(0x8f)](_0x314d3e=>_0x277a2c+=_0xb9f6c4(0xb1)+_0x314d3e[_0xb9f6c4(0x103)]+_0xb9f6c4(0x121)),_0x277a2c+='</tr></thead><tbody>',_0x480004[_0xb9f6c4(0x8f)](_0x1c41e9=>{const _0x4a44e3=_0xb9f6c4,_0x5a4401=_0x5e4c2a[_0x4a44e3(0x106)][_0x4a44e3(0xaa)](_0x214f91=>_0x214f91['id']===_0x1c41e9['studentId']);if(!_0x5a4401)return;const _0x12e90b=_0x5a4401[_0x4a44e3(0xc1)]?.[_0x5425f]?.[_0x4ef707]||{};_0x277a2c+='<tr><td>'+_0x5a4401[_0x4a44e3(0x102)]+'</td><td>'+_0x5a4401['s_nama']+_0x4a44e3(0xf0),_0x483765[_0x4a44e3(0x8f)](_0x3db594=>{const _0x456560=_0x4a44e3;_0x277a2c+=_0x456560(0x98)+(_0x12e90b['extracurriculars']?.[_0x3db594[_0x456560(0x103)]]||'')+_0x456560(0xff)+_0x5a4401['id']+_0x456560(0xcf)+_0x3db594[_0x456560(0x103)]+_0x456560(0x122)+_0x4ef707+_0x456560(0xe3);}),_0x277a2c+=_0x4a44e3(0x8c);}),_0x277a2c+='</tbody></table></div>',_0x254e72[_0xb9f6c4(0xfc)]=_0x277a2c;},_0x3c89da=(_0x264cc4,_0x85655d,_0x3e4ef6)=>{const _0x437cf4=_0x251704,_0x3c83e4=_0x5e4c2a[_0x437cf4(0xc3)][_0x5425f]?.['characterValues']||[],_0x4df106=_0x5e4c2a['academicYears'][_0x5425f]?.[_0x437cf4(0x8e)]||[];_0x264cc4[_0x437cf4(0xfc)]='';if(_0x3c83e4[_0x437cf4(0x110)]===0x0){_0x264cc4[_0x437cf4(0xfc)]='<p>Tidak\x20ada\x20data\x20nilai\x20karakter\x20untuk\x20diinput.</p>';return;}_0x3c83e4['forEach'](_0x13d30b=>{const _0x2d1a2c=_0x437cf4;let _0x418ab1=_0x2d1a2c(0x9a)+_0x13d30b['name']+'</h4><div\x20class=\x22table-wrapper\x22><table><thead><tr><th>NISN</th><th>Nama\x20Siswa</th>';_0x13d30b[_0x2d1a2c(0x99)][_0x2d1a2c(0x8f)](_0x1edaa0=>_0x418ab1+=_0x2d1a2c(0xb1)+_0x1edaa0[_0x2d1a2c(0x103)]+_0x2d1a2c(0x121)),_0x418ab1+=_0x2d1a2c(0xa2),_0x85655d[_0x2d1a2c(0x8f)](_0x2bb20a=>{const _0x2f1850=_0x2d1a2c,_0x221111=_0x5e4c2a['masterSiswa']['find'](_0x265587=>_0x265587['id']===_0x2bb20a[_0x2f1850(0xf6)]);if(!_0x221111)return;const _0x26120c=_0x221111[_0x2f1850(0xc1)]?.[_0x5425f]?.[_0x3e4ef6]?.['character']?.[_0x13d30b['name']]||{};_0x418ab1+=_0x2f1850(0xb8)+_0x221111[_0x2f1850(0x102)]+_0x2f1850(0xdd)+_0x221111[_0x2f1850(0x118)]+_0x2f1850(0xf0),_0x13d30b[_0x2f1850(0x99)]['forEach'](_0x244761=>{const _0x352669=_0x2f1850,_0x5ea142=_0x26120c[_0x244761[_0x352669(0x103)]]||'',_0x142cea=_0x4df106[_0x352669(0xe0)](_0x5d04fc=>_0x352669(0xf7)+_0x5d04fc+'\x22\x20'+(_0x5d04fc===_0x5ea142?_0x352669(0xc2):'')+'>'+_0x5d04fc+_0x352669(0xdc))[_0x352669(0xac)]('');_0x418ab1+=_0x352669(0x9c)+_0x221111['id']+_0x352669(0x113)+_0x13d30b[_0x352669(0x103)]+_0x352669(0xf3)+_0x244761[_0x352669(0x103)]+_0x352669(0x122)+_0x3e4ef6+_0x352669(0x92)+_0x142cea+_0x352669(0xe8);}),_0x418ab1+=_0x2f1850(0x8c);}),_0x418ab1+=_0x2d1a2c(0x10d),_0x264cc4[_0x2d1a2c(0xfc)]+=_0x418ab1;});};let _0x304b7c;_0x2713a0['addEventListener'](_0x251704(0xf8),_0x13ffe9=>{const _0x129071=_0x251704;_0x13ffe9[_0x129071(0xd7)][_0x129071(0xf5)](_0x129071(0x11e))&&(clearTimeout(_0x304b7c),_0x304b7c=setTimeout(()=>{const _0x46fd9a=_0x129071,_0x3311c6=_0x13ffe9[_0x46fd9a(0xd7)],_0x4f0c6f=Number(_0x3311c6['dataset'][_0x46fd9a(0xf6)]),_0xdbe611=_0x3311c6[_0x46fd9a(0xe9)]['semester'];let _0x5a8d3d=_0x5e4c2a[_0x46fd9a(0x106)]['find'](_0x5b2767=>_0x5b2767['id']===_0x4f0c6f);if(!_0x5a8d3d)return;if(!_0x5a8d3d[_0x46fd9a(0xc1)])_0x5a8d3d[_0x46fd9a(0xc1)]={};if(!_0x5a8d3d[_0x46fd9a(0xc1)][_0x5425f])_0x5a8d3d[_0x46fd9a(0xc1)][_0x5425f]={};if(!_0x5a8d3d[_0x46fd9a(0xc1)][_0x5425f][_0xdbe611])_0x5a8d3d['grades'][_0x5425f][_0xdbe611]={'subjects':{},'extracurriculars':{},'absences':{},'character':{}};const _0x337f1a=_0x5a8d3d[_0x46fd9a(0xc1)][_0x5425f][_0xdbe611],_0x34f3b9=_0x3311c6['dataset'][_0x46fd9a(0xa6)],_0x3f0db8=_0x3311c6[_0x46fd9a(0xe9)][_0x46fd9a(0x103)],_0x390936=_0x34f3b9===_0x46fd9a(0xb3)||_0x34f3b9==='absence'?Number(_0x3311c6[_0x46fd9a(0xd6)]):_0x3311c6[_0x46fd9a(0xd6)];if(_0x34f3b9==='subject')_0x337f1a[_0x46fd9a(0xe7)][_0x3f0db8]=_0x390936;else{if(_0x34f3b9===_0x46fd9a(0x111))_0x337f1a[_0x46fd9a(0xdb)][_0x3f0db8]=_0x390936;else{if(_0x34f3b9===_0x46fd9a(0xc8))_0x337f1a[_0x46fd9a(0xd8)][_0x3f0db8]=_0x390936;else{if(_0x34f3b9===_0x46fd9a(0xb0)){const _0x26b943=_0x3311c6[_0x46fd9a(0xe9)][_0x46fd9a(0xcb)],_0x1e8bed=_0x3311c6[_0x46fd9a(0xe9)][_0x46fd9a(0x108)];if(!_0x337f1a['character'][_0x26b943])_0x337f1a[_0x46fd9a(0xb0)][_0x26b943]={};_0x337f1a[_0x46fd9a(0xb0)][_0x26b943][_0x1e8bed]=_0x3311c6['value'];}}}}saveDb(_0x5e4c2a),_0x1cc1a4(_0x46fd9a(0xb7));},0x1f4));}),document['getElementById'](_0x251704(0xfe))[_0x251704(0xba)](_0x251704(0xbd),()=>{const _0x15dbea=_0x251704;sessionStorage[_0x15dbea(0xef)]('loggedInUser'),window[_0x15dbea(0xc6)][_0x15dbea(0xf2)]();}),document[_0x251704(0xd4)](_0x251704(0xa5))[_0x251704(0xba)](_0x251704(0xf8),_0x4c3a7d=>{const _0x161696=_0x251704;_0x5425f=_0x4c3a7d[_0x161696(0xd7)][_0x161696(0xd6)],_0x1ac55a();});const _0x5648a1=()=>{const _0x58ddf6=_0x251704,_0x1c541c=JSON[_0x58ddf6(0xd1)](sessionStorage[_0x58ddf6(0x97)]('loggedInUser'));if(_0x1c541c&&_0x1c541c[_0x58ddf6(0xa1)]===_0x58ddf6(0x96)){_0x4e66d4[_0x58ddf6(0xc0)][_0x58ddf6(0xab)]=_0x58ddf6(0x119),_0x2713a0[_0x58ddf6(0xc0)][_0x58ddf6(0xab)]='flex',document[_0x58ddf6(0xd4)]('welcomeMessage')[_0x58ddf6(0x8d)]=_0x58ddf6(0xeb)+_0x1c541c['nama']+'!',document['getElementById'](_0x58ddf6(0xbb))[_0x58ddf6(0x8d)]=_0x58ddf6(0xa3)+_0x1c541c['nama']+'!',document[_0x58ddf6(0xd4)]('schoolName')[_0x58ddf6(0x8d)]=_0x5e4c2a[_0x58ddf6(0xb6)][_0x58ddf6(0x9b)],document[_0x58ddf6(0xd4)]('schoolLogo')[_0x58ddf6(0xee)]=_0x5e4c2a[_0x58ddf6(0xb6)][_0x58ddf6(0x100)];const _0x4357db=Object[_0x58ddf6(0xe5)](_0x5e4c2a['academicYears'])['filter'](_0xb4cf9a=>_0x5e4c2a[_0x58ddf6(0xc3)][_0xb4cf9a][_0x58ddf6(0xe6)][_0x58ddf6(0x8b)](_0x3f39ad=>_0x3f39ad['username']===_0x1c541c[_0x58ddf6(0x105)]));_0x5425f=_0x5e4c2a['activeYear'];const _0x1ff770=_0x4357db[_0x58ddf6(0x107)]()['reverse']()[_0x58ddf6(0xe0)](_0x5e1dfc=>{const _0xa91b85=_0x58ddf6,_0x216e8d=_0x5e4c2a[_0xa91b85(0xc3)][_0x5e1dfc][_0xa91b85(0xe6)][_0xa91b85(0xaa)](_0x3f04cc=>_0x3f04cc['username']===_0x1c541c[_0xa91b85(0x105)]),_0x1e834f=_0x216e8d?_0x216e8d[_0xa91b85(0xe2)]:_0xa91b85(0xcd);return _0xa91b85(0xf7)+_0x5e1dfc+'\x22\x20'+(_0x5e1dfc===_0x5425f?_0xa91b85(0xc2):'')+'>'+_0x5e1dfc+'\x20(Rombel\x20'+_0x1e834f+_0xa91b85(0x11d);})[_0x58ddf6(0xac)]('');document[_0x58ddf6(0xd4)](_0x58ddf6(0xa5))['innerHTML']=_0x1ff770,_0x1ac55a();}else _0x4e66d4[_0x58ddf6(0xc0)][_0x58ddf6(0xab)]='flex',_0x2713a0[_0x58ddf6(0xc0)][_0x58ddf6(0xab)]='none';};_0x23fb92['addEventListener'](_0x251704(0x115),function(_0x1883a4){const _0x2e9e1b=_0x251704;_0x1883a4[_0x2e9e1b(0x114)]();const _0x4c7103=document[_0x2e9e1b(0xd4)](_0x2e9e1b(0x105))[_0x2e9e1b(0xd6)],_0x5e1e73=document[_0x2e9e1b(0xd4)](_0x2e9e1b(0x11b))[_0x2e9e1b(0xd6)],_0x1251cf=Object[_0x2e9e1b(0xf9)](_0x5e4c2a['academicYears'])[_0x2e9e1b(0x10b)](_0x2d2769=>_0x2d2769[_0x2e9e1b(0xe6)])[_0x2e9e1b(0xaa)](_0x5bfada=>_0x5bfada[_0x2e9e1b(0x105)]===_0x4c7103&&_0x5bfada[_0x2e9e1b(0x11b)]===_0x5e1e73);_0x1251cf?.['role']===_0x2e9e1b(0x96)?(sessionStorage[_0x2e9e1b(0xa9)](_0x2e9e1b(0xec),JSON[_0x2e9e1b(0xb4)](_0x1251cf)),_0x5648a1()):document[_0x2e9e1b(0xd4)]('errorMessage')[_0x2e9e1b(0x8d)]=_0x2e9e1b(0x93);}),_0x5648a1();}));
		
    </script>
</body>
</html>

