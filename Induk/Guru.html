<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Guru - Buku Induk Siswa</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <style>
        /* === DESAIN BARU: PANEL GURU MODERN === */
        :root {
            --primary-color: #2563eb;
            --primary-hover: #1d4ed8;
            --secondary-color: #f3f4f6;
            --text-color: #1f2937;
            --text-muted: #6b7280;
            --border-color: #e5e7eb;
            --danger-color: #ef4444;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --white-color: #ffffff;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --border-radius-md: 8px;
            --border-radius-lg: 12px;
            --transition-speed: 0.3s;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Poppins', sans-serif;
            background-color: var(--secondary-color);
            color: var(--text-color);
            line-height: 1.6;
        }
        
        /* === HALAMAN LOGIN === */
        .login-screen {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        
        .login-card {
            background: var(--white-color);
            padding: 2.5rem 3rem;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-lg);
            width: 100%;
            max-width: 420px;
            text-align: center;
            animation: contentFadeIn 0.6s ease-out;
        }
        
        .login-card h1 {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 0.5rem;
        }
        .login-card h1 .fa-chalkboard-user { color: var(--primary-color); }
        .login-card p { color: var(--text-muted); margin-bottom: 2rem; }
        .login-card .form-group { text-align: left; margin-bottom: 1rem; }
        .login-card .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 500; }
        .login-card .form-group input { width: 100%; padding: 0.75rem; border: 1px solid var(--border-color); border-radius: var(--border-radius-md); }
        .login-card .btn { width: 100%; margin-top: 1rem; }
        #errorMessage { color: var(--danger-color); margin-top: 1rem; height: 20px; font-weight: 500; }

        /* === TATA LETAK UTAMA === */
        #mainContent {
            padding: 2rem;
        }

        .header-container { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            flex-wrap: wrap; 
            gap: 1.5rem;
            background-color: var(--white-color);
            padding: 1rem 2rem;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-md);
            margin-bottom: 2rem;
        }
        .header-container h1 {
            font-size: 1.5rem;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        .header-container h1 .fa-solid { color: var(--primary-color); }

        .header-controls { display: flex; align-items: center; gap: 1.5rem; flex-wrap: wrap; }
        .year-selector { display: flex; align-items: center; gap: 0.5rem; }
        .year-selector label { font-weight: 600; }
        #welcomeMessage { font-weight: 500; color: var(--text-muted); }
        
        .class-info-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        #kelasInfo {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-color);
            background-color: #eef2ff;
            color: var(--primary-color);
            padding: 0.75rem 1.5rem;
            border-radius: var(--border-radius-md);
            display: inline-block;
        }

        /* === NAVIGASI TAB SEMESTER === */
        .tab-nav {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
        }
        .tab-button {
            padding: 0.75rem 2rem;
            border: none;
            border-radius: var(--border-radius-md);
            background: var(--white-color);
            color: var(--text-muted);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-speed) ease;
            box-shadow: var(--shadow-sm);
        }
        .tab-button:hover { color: var(--primary-color); }
        .tab-button.active {
            background-color: var(--primary-color);
            color: var(--white-color);
            box-shadow: var(--shadow-md);
        }
        
        /* === KONTEN & KARTU === */
        .card {
            background: var(--white-color);
            padding: 2rem;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-md);
            margin-bottom: 2rem;
        }
        .card h3 {
            font-size: 1.25rem;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 1rem;
        }
        
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: contentFadeIn 0.5s ease; }
        @keyframes contentFadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        /* === TOMBOL === */
        .btn {
            padding: 0.7rem 1.25rem;
            border: none;
            border-radius: var(--border-radius-md);
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all var(--transition-speed) ease;
        }
        .btn:active { transform: translateY(2px); }
        .btn-primary { background-color: var(--primary-color); color: var(--white-color); box-shadow: 0 4px 0 var(--primary-hover); }
        .btn-primary:hover { background-color: var(--primary-hover); }
        .btn-primary:active { box-shadow: 0 2px 0 var(--primary-hover); }
        .btn-secondary { background-color: #9ca3af; color: var(--white-color); box-shadow: 0 4px 0 #4b5563; }
        .btn-secondary:hover { background-color: #6b7280; }
        .btn-secondary:active { box-shadow: 0 2px 0 #4b5563; }
        .btn-outline { background: var(--white-color); color: var(--text-color); border: 1px solid var(--border-color); }
        .btn-outline:hover { background: var(--secondary-color); border-color: #d1d5db; }
        .btn:disabled { background-color: #ccc; cursor: not-allowed; transform: none; box-shadow: none; }

        /* === TABEL INPUT NILAI === */
        .table-wrapper {
            overflow-x: auto;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-md);
            max-height: 70vh; /* Batasi tinggi tabel agar bisa discroll */
        }
        table {
            width: 100%;
            border-collapse: collapse;
            white-space: nowrap; /* Mencegah kolom jadi terlalu kecil */
        }
        th, td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
            vertical-align: middle;
        }
        thead th {
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            background-color: var(--secondary-color);
            position: sticky; /* Membuat header tabel tetap di atas */
            top: 0;
            z-index: 10;
        }
        tbody tr { transition: background-color var(--transition-speed) ease; }
        tbody tr:nth-child(even) { background-color: #f9fafb; }
        tbody tr:hover { background-color: #eef2ff; }
        td:first-child, td:nth-child(2) { white-space: normal; } /* Izinkan nama siswa wrap */
        th:first-child, td:first-child { position: sticky; left: 0; background-color: inherit; } /* Membuat kolom NISN sticky */
        th:nth-child(2), td:nth-child(2) { position: sticky; left: 80px; background-color: inherit; } /* Membuat kolom Nama Siswa sticky */

        table input[type="number"], table input[type="text"], table select {
            width: 90px;
            padding: 6px 8px;
            border: 1px solid transparent;
            border-radius: var(--border-radius-md);
            background-color: transparent;
            text-align: center;
            font-size: 0.95rem;
            transition: all var(--transition-speed) ease;
        }
        table input:hover, table select:hover { border-color: var(--border-color); background-color: var(--white-color); }
        table input:focus, table select:focus { border-color: var(--primary-color); background-color: var(--white-color); box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2); }
        table select { width: 150px; text-align: left; }
        
        /* === NILAI KARAKTER === */
        .character-value-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        .character-table-card {
            background-color: var(--white-color);
            padding: 1.5rem;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-md);
        }
        .character-table-card h4 { font-size: 1.1rem; margin-bottom: 1rem; }

        /* === MODAL & NOTIFIKASI === */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(17, 24, 39, 0.6); backdrop-filter: blur(4px); }
        .modal.show { animation: contentFadeIn 0.3s forwards; }
        .modal-content { background-color: #fefefe; margin: 10% auto; padding: 0; border: none; width: 95%; max-width: 500px; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-lg); overflow: hidden; animation: slideInUp 0.4s ease-out; }
        @keyframes slideInUp { from { transform: translateY(50px) scale(0.98); opacity: 0; } to { transform: translateY(0) scale(1); opacity: 1; } }
        .modal-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border-color); padding: 1.25rem 2rem; background-color: var(--secondary-color); }
        .modal-header h2 { font-size: 1.25rem; margin-bottom: 0; color: var(--text-color); }
        .close-button { color: var(--text-muted); font-size: 28px; font-weight: bold; cursor: pointer; transition: color var(--transition-speed) ease; }
        .close-button:hover { color: var(--text-color); }
        .modal-body { padding: 2rem; text-align: center; }
        .confirm-actions { display: flex; justify-content: center; padding: 1.25rem 2rem; background-color: var(--secondary-color); border-top: 1px solid var(--border-color); }
        
        #notification { position: fixed; bottom: 20px; right: 20px; background-color: var(--success-color); color: white; padding: 1rem 1.5rem; border-radius: var(--border-radius-md); box-shadow: var(--shadow-lg); z-index: 2000; opacity: 0; visibility: hidden; transform: translateY(20px); transition: all 0.4s ease-in-out; }
        #notification.show { opacity: 1; visibility: visible; transform: translateY(0); }

    </style>
</head>
<body>
    <script src="./Bangbin.js"></script>

    <div id="loginScreen" class="login-screen">
        <div id="loginCard" class="login-card">
            <h1><i class="fa-solid fa-chalkboard-user"></i> Selamat Datang</h1>
            <p>Silakan login untuk mengakses Panel Guru.</p>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="btn btn-primary">Login</button>
				<a href="./" class="btn btn-primary"><i class="fa-solid fa-home"></i></a>
                <p id="errorMessage"></p>
            </form>
        </div>
    </div>

    <div id="mainContent" style="display: none;">
        <header class="header-container">
            <h1><i class="fa-solid fa-pen-to-square"></i> Panel Input Nilai</h1>
            <div class="header-controls">
                <div class="year-selector">
                    <label for="tahunPelajaranSelector">Tahun Pelajaran:</label>
                    <select id="tahunPelajaranSelector" class="btn btn-outline"></select>
                </div>
                <div class="header-welcome">
                    <span id="welcomeMessage"></span>
                    <button id="logoutBtn" class="btn btn-secondary"><i class="fa-solid fa-right-from-bracket"></i> Logout</button>
                </div>
            </div>
        </header>

        <div class="class-info-header">
             <h2 id="kelasInfo"></h2>
        </div>

        <nav class="tab-nav">
            <button class="tab-button active" data-target="semester1"><i class="fa-solid fa-1"></i>&nbsp; Semester 1</button>
            <button class="tab-button" data-target="semester2"><i class="fa-solid fa-2"></i>&nbsp; Semester 2</button>
        </nav>
        
        <section id="semester1" class="tab-content active">
            <div class="card">
                <h3>Input Nilai Akademik, Ekstrakurikuler & Absensi (Semester 1)</h3>
                <div class="table-wrapper">
                    <table id="siswaTable1">
                        <thead></thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
            <div class="card">
                 <h3>Input Nilai Karakter (Semester 1)</h3>
                <div class="character-value-container" id="characterTables1"></div>
            </div>
        </section>

        <section id="semester2" class="tab-content">
             <div class="card">
                <h3>Input Nilai Akademik, Ekstrakurikuler & Absensi (Semester 2)</h3>
                <div class="table-wrapper">
                    <table id="siswaTable2">
                        <thead></thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
            <div class="card">
                 <h3>Input Nilai Karakter (Semester 2)</h3>
                <div class="character-value-container" id="characterTables2"></div>
            </div>
        </section>

        <div id="notification"></div>
        <div id="confirmPromptModal" class="modal">
            <div class="modal-content">
                <div class="modal-header"><h2>Perhatian</h2><span class="close-button">&times;</span></div>
                <div class="modal-body">
                    <p id="promptMessage"></p>
                </div>
                <div class="confirm-actions">
                    <button class="btn btn-primary" id="confirmPromptBtn">OK</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>

function _0x2833(_0x14cdf9,_0x50fa2e){const _0x1aa290=_0x1aa2();return _0x2833=function(_0x283330,_0xe5d37b){_0x283330=_0x283330-0x16d;let _0x232afd=_0x1aa290[_0x283330];return _0x232afd;},_0x2833(_0x14cdf9,_0x50fa2e);}const _0x2e4a40=_0x2833;function _0x1aa2(){const _0x5c06ce=['\x22\x20data-type=\x22absence\x22\x20data-name=\x22sakit\x22\x20data-semester=\x22','join','getItem','extracurriculars','characterTables2','reverse','<option\x20value=\x22','<tbody><tr><td\x20colspan=\x22100\x22\x20style=\x22text-align:center;\x22>Belum\x20ada\x20data\x20siswa\x20untuk\x20rombel\x20ini.</td></tr></tbody>','className','errorMessage','s_nama','6887150gJtNDW','activeYear','sakit','flatMap','map','</tbody>','</th>','.tab-content.active','none','characterName','removeItem','</select></td>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>','\x22></td>','</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22table-wrapper\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22width:\x2080px;\x22>NISN</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<th\x20style=\x22min-width:\x20200px;\x22>Nama\x20Siswa</th>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tbody','.modal','<p\x20style=\x22text-align:center;\x22>Belum\x20ada\x20data\x20nilai\x20karakter\x20yang\x20perlu\x20diinput.</p>','rombel','.tab-button.active','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</thead>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tbody></tbody>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</table>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','notification\x20show','selected','\x22\x20data-type=\x22subject\x22\x20data-name=\x22','addEventListener','add','target','enrollment','grades','querySelectorAll','20GGEZZv','change','type','flex','value','masterSiswa','Aktif','active','username','izin','stringify','Guru','\x22\x20data-student-id=\x22','getElementById','siswaTable2','character','subValues','\x20(Rombel\x20','sort','characterGradeOptions','status','260018ElrAhQ','tahunPelajaranSelector','extracurricular','N/A','click','loginForm','391535vewtsM','preventDefault','character-table-card','semester1','subject','academicYears','find','absences','name','parse','Username\x20atau\x20Password\x20salah!','style','\x22\x20data-type=\x22character\x22\x20data-character-name=\x22','<p\x20style=\x22text-align:center;\x22>Belum\x20ada\x20data\x20siswa.</p>','\x22\x20data-sub-name=\x22','querySelector','classList','<p\x20style=\x22text-align:center;\x22>Tidak\x20ada\x20data.</p>','3147672aeyEAg','subjects','semester2','</tr>','3786372wYdGjk','textContent','Admin.html','keys','then','<td><input\x20type=\x22number\x22\x20min=\x220\x22\x20max=\x22100\x22\x20value=\x22','href','.tab-button','Anda\x20tidak\x20ditugaskan\x20sebagai\x20wali\x20kelas\x20di\x20tahun\x20ajaran\x20','welcomeMessage','<tr><td>','notification','show','onclick','<td><input\x20type=\x22number\x22\x20min=\x220\x22\x20value=\x22','forEach','remove','role','absence','loggedInUser','submit','\x22\x20data-semester=\x22','display','success','\x22><option\x20value=\x22\x22>--Pilih\x20Nilai--</option>','shortName','kelasInfo','users','<tbody>','rombelAjar','s_nisn','location','Selamat\x20datang,\x20',')</option>','filter','length','block','6punbyz','<td><select\x20data-student-id=\x22','\x22\x20data-type=\x22absence\x22\x20data-name=\x22izin\x22\x20data-semester=\x22','studentId','7kHdFyN','1663736JlVNAV','</td>','mainContent','alpha','dataset','</td><td>','subName','DOMContentLoaded','innerHTML','values','715909kMPIuy','reload','password','<th>','logoutBtn','Nilai\x20tersimpan.'];_0x1aa2=function(){return _0x5c06ce;};return _0x1aa2();}(function(_0x8ce772,_0x9d733e){const _0xe6f1a1=_0x2833,_0x47549f=_0x8ce772();while(!![]){try{const _0x362209=-parseInt(_0xe6f1a1(0x181))/0x1+parseInt(_0xe6f1a1(0x1c5))/0x2*(-parseInt(_0xe6f1a1(0x172))/0x3)+parseInt(_0xe6f1a1(0x1b0))/0x4*(parseInt(_0xe6f1a1(0x1cb))/0x5)+parseInt(_0xe6f1a1(0x1dd))/0x6*(parseInt(_0xe6f1a1(0x176))/0x7)+parseInt(_0xe6f1a1(0x177))/0x8+-parseInt(_0xe6f1a1(0x1e1))/0x9+parseInt(_0xe6f1a1(0x192))/0xa;if(_0x362209===_0x9d733e)break;else _0x47549f['push'](_0x47549f['shift']());}catch(_0x829217){_0x47549f['push'](_0x47549f['shift']());}}}(_0x1aa2,0x659c2),document[_0x2e4a40(0x1aa)](_0x2e4a40(0x17e),function(){const _0xcb7eb0=_0x2e4a40;let _0x3953a3=getDb()||setDefaultData();const _0x1b4e58=document[_0xcb7eb0(0x1bd)]('loginScreen'),_0x35f3d8=document[_0xcb7eb0(0x1bd)](_0xcb7eb0(0x179)),_0x4b7df4=document[_0xcb7eb0(0x1bd)](_0xcb7eb0(0x1ca)),_0x2c7407=document[_0xcb7eb0(0x1bd)](_0xcb7eb0(0x190)),_0xba09ea=document[_0xcb7eb0(0x1bd)](_0xcb7eb0(0x1ea)),_0x5cccd9=document[_0xcb7eb0(0x1bd)](_0xcb7eb0(0x1c6)),_0x47343b=document['getElementById'](_0xcb7eb0(0x1fb)),_0x17aa3d=document['getElementById']('siswaTable1'),_0xf08522=document[_0xcb7eb0(0x1bd)](_0xcb7eb0(0x1be)),_0x5da0e9=document[_0xcb7eb0(0x1bd)]('characterTables1'),_0x58c118=document[_0xcb7eb0(0x1bd)](_0xcb7eb0(0x18b)),_0xec9aa3=document['getElementById']('confirmPromptModal'),_0x3627ae=document[_0xcb7eb0(0x1bd)]('confirmPromptBtn'),_0x1d75b5=document[_0xcb7eb0(0x1bd)]('promptMessage');let _0x10f8e7='',_0x274989,_0x220d37;const _0x1c28b1=_0x3fccd3=>{const _0x582cdc=_0xcb7eb0;_0x3fccd3['style'][_0x582cdc(0x1f7)]=_0x582cdc(0x171),setTimeout(()=>_0x3fccd3[_0x582cdc(0x1db)][_0x582cdc(0x1ab)](_0x582cdc(0x1ed)),0xa);},_0x11a04d=_0x3fad4d=>{const _0x5b0ab7=_0xcb7eb0;_0x3fad4d[_0x5b0ab7(0x1db)][_0x5b0ab7(0x1f1)](_0x5b0ab7(0x1ed)),setTimeout(()=>_0x3fad4d[_0x5b0ab7(0x1d6)]['display']=_0x5b0ab7(0x19a),0x12c);};document[_0xcb7eb0(0x1af)]('.modal\x20.close-button')[_0xcb7eb0(0x1f0)](_0x23ef3e=>_0x23ef3e['onclick']=()=>_0x11a04d(_0x23ef3e['closest'](_0xcb7eb0(0x1a2)))),window[_0xcb7eb0(0x1ee)]=_0x132b31=>{const _0x2578dc=_0xcb7eb0;if(_0x132b31[_0x2578dc(0x1ac)][_0x2578dc(0x1db)]['contains']('modal'))_0x11a04d(_0x132b31[_0x2578dc(0x1ac)]);};const _0x1e65a5=_0x41abb6=>{return _0x1d75b5['textContent']=_0x41abb6,_0x1c28b1(_0xec9aa3),new Promise(_0x5bde0a=>{_0x220d37=_0x5bde0a;});};_0x3627ae[_0xcb7eb0(0x1ee)]=()=>{_0x11a04d(_0xec9aa3);if(_0x220d37)_0x220d37(!![]);};const _0x20ba9f=(_0x1de038,_0x5d0ecf=_0xcb7eb0(0x1f8))=>{const _0x6f672b=_0xcb7eb0,_0x29f526=document[_0x6f672b(0x1bd)](_0x6f672b(0x1ec));_0x29f526[_0x6f672b(0x1e2)]=_0x1de038,_0x29f526[_0x6f672b(0x18f)]=_0x6f672b(0x1a7),setTimeout(()=>_0x29f526['classList']['remove'](_0x6f672b(0x1ed)),0x5dc);},_0x12c572=()=>{const _0xf920e5=_0xcb7eb0,_0x42f31e=JSON['parse'](sessionStorage[_0xf920e5(0x189)]('loggedInUser')),_0x46e81b=_0x3953a3['academicYears'][_0x10f8e7]?.[_0xf920e5(0x1fc)]['find'](_0x4c5541=>_0x4c5541[_0xf920e5(0x1b8)]===_0x42f31e[_0xf920e5(0x1b8)]&&_0x4c5541[_0xf920e5(0x1f2)]===_0xf920e5(0x1bb));if(!_0x46e81b||!_0x46e81b[_0xf920e5(0x1fe)]){_0x47343b['textContent']=_0xf920e5(0x1e9)+_0x10f8e7+'.';const _0x5b49b4='<tbody><tr><td\x20colspan=\x22100\x22\x20style=\x22text-align:center;\x22>Tidak\x20ada\x20data.</td></tr></tbody>';_0x17aa3d[_0xf920e5(0x17f)]=_0x5b49b4,_0xf08522['innerHTML']=_0x5b49b4,_0x5da0e9[_0xf920e5(0x17f)]=_0xf920e5(0x1dc),_0x58c118[_0xf920e5(0x17f)]=_0xf920e5(0x1dc);return;}const _0x20d2b0=_0x46e81b[_0xf920e5(0x1fe)],_0x255c9f=_0x3953a3[_0xf920e5(0x1d0)][_0x10f8e7]?.[_0xf920e5(0x1ad)]['filter'](_0x1a714d=>_0x1a714d[_0xf920e5(0x1a4)]===_0x20d2b0&&_0x1a714d[_0xf920e5(0x1c4)]===_0xf920e5(0x1b6));_0x47343b['textContent']='Daftar\x20Siswa\x20Rombel:\x20'+_0x20d2b0;if(!_0x255c9f||_0x255c9f[_0xf920e5(0x170)]===0x0){const _0x29db70=_0xf920e5(0x18e);_0x17aa3d[_0xf920e5(0x17f)]=_0x29db70,_0xf08522[_0xf920e5(0x17f)]=_0x29db70,_0x5da0e9['innerHTML']=_0xf920e5(0x1d8),_0x58c118[_0xf920e5(0x17f)]=_0xf920e5(0x1d8);return;}_0xd019b2(_0x17aa3d,_0x255c9f,_0xf920e5(0x1ce)),_0xd019b2(_0xf08522,_0x255c9f,_0xf920e5(0x1df)),_0x508cfc(_0x5da0e9,_0x255c9f,_0xf920e5(0x1ce)),_0x508cfc(_0x58c118,_0x255c9f,_0xf920e5(0x1df));},_0xd019b2=(_0xa9157b,_0x3f3d06,_0x1124ce)=>{const _0x4ce467=_0xcb7eb0,_0x5f3791=_0x3953a3[_0x4ce467(0x1d0)][_0x10f8e7]?.[_0x4ce467(0x1de)]||[],_0x288e16=_0x3953a3['academicYears'][_0x10f8e7]?.[_0x4ce467(0x18a)]||[];let _0x167809='<thead><tr><th\x20style=\x22width:\x2080px;\x22>NISN</th><th\x20style=\x22min-width:\x20200px;\x22>Nama\x20Siswa</th>';_0x5f3791[_0x4ce467(0x1f0)](_0x1046b7=>_0x167809+=_0x4ce467(0x184)+_0x1046b7[_0x4ce467(0x1fa)]+_0x4ce467(0x198)),_0x288e16[_0x4ce467(0x1f0)](_0x4cc4cd=>_0x167809+='<th>'+_0x4cc4cd[_0x4ce467(0x1d3)]+_0x4ce467(0x198)),_0x167809+='<th>Sakit</th><th>Izin</th><th>Alpha</th></tr></thead>';let _0x22b75b=_0x4ce467(0x1fd);_0x3f3d06[_0x4ce467(0x1f0)](_0xdbd547=>{const _0x363648=_0x4ce467,_0x387cf2=_0x3953a3['masterSiswa'][_0x363648(0x1d1)](_0x59c346=>_0x59c346['id']===_0xdbd547[_0x363648(0x175)]);if(!_0x387cf2)return;if(!_0x387cf2[_0x363648(0x1ae)])_0x387cf2['grades']={};if(!_0x387cf2[_0x363648(0x1ae)][_0x10f8e7])_0x387cf2['grades'][_0x10f8e7]={'semester1':{},'semester2':{}};if(!_0x387cf2['grades'][_0x10f8e7][_0x1124ce])_0x387cf2[_0x363648(0x1ae)][_0x10f8e7][_0x1124ce]={'subjects':{},'extracurriculars':{},'absences':{}};const _0x5ccaf7=_0x387cf2[_0x363648(0x1ae)][_0x10f8e7][_0x1124ce],_0x597b82=_0x5ccaf7['absences']||{};let _0x49f32a=_0x363648(0x1eb)+_0x387cf2['s_nisn']+'</td><td>'+_0x387cf2[_0x363648(0x191)]+_0x363648(0x178);_0x5f3791[_0x363648(0x1f0)](_0x336a21=>_0x49f32a+=_0x363648(0x1e6)+(_0x5ccaf7[_0x363648(0x1de)]?.[_0x336a21[_0x363648(0x1fa)]]||'')+_0x363648(0x1bc)+_0x387cf2['id']+_0x363648(0x1a9)+_0x336a21[_0x363648(0x1fa)]+_0x363648(0x1f6)+_0x1124ce+_0x363648(0x19f)),_0x288e16[_0x363648(0x1f0)](_0x6bfcc8=>_0x49f32a+='<td><input\x20type=\x22text\x22\x20value=\x22'+(_0x5ccaf7[_0x363648(0x18a)]?.[_0x6bfcc8[_0x363648(0x1d3)]]||'')+_0x363648(0x1bc)+_0x387cf2['id']+'\x22\x20data-type=\x22extracurricular\x22\x20data-name=\x22'+_0x6bfcc8[_0x363648(0x1d3)]+_0x363648(0x1f6)+_0x1124ce+_0x363648(0x19f)),_0x49f32a+=_0x363648(0x1ef)+(_0x597b82[_0x363648(0x194)]||0x0)+'\x22\x20data-student-id=\x22'+_0x387cf2['id']+_0x363648(0x187)+_0x1124ce+_0x363648(0x19f),_0x49f32a+=_0x363648(0x1ef)+(_0x597b82[_0x363648(0x1b9)]||0x0)+'\x22\x20data-student-id=\x22'+_0x387cf2['id']+_0x363648(0x174)+_0x1124ce+_0x363648(0x19f),_0x49f32a+=_0x363648(0x1ef)+(_0x597b82[_0x363648(0x17a)]||0x0)+'\x22\x20data-student-id=\x22'+_0x387cf2['id']+'\x22\x20data-type=\x22absence\x22\x20data-name=\x22alpha\x22\x20data-semester=\x22'+_0x1124ce+_0x363648(0x19f),_0x49f32a+='</tr>',_0x22b75b+=_0x49f32a;}),_0x22b75b+=_0x4ce467(0x197),_0xa9157b[_0x4ce467(0x17f)]=_0x167809+_0x22b75b;},_0x508cfc=(_0x51d496,_0x1bccdc,_0x3a9410)=>{const _0x2d7811=_0xcb7eb0,_0x49f306=_0x3953a3[_0x2d7811(0x1d0)][_0x10f8e7]?.['characterValues']||[],_0x27b7c2=_0x3953a3[_0x2d7811(0x1d0)][_0x10f8e7]?.[_0x2d7811(0x1c3)]||[];_0x51d496[_0x2d7811(0x17f)]='';if(_0x49f306[_0x2d7811(0x170)]===0x0){_0x51d496[_0x2d7811(0x17f)]=_0x2d7811(0x1a3);return;}_0x49f306['forEach'](_0x47ae7b=>{const _0x515745=_0x2d7811,_0x4a1a06=document['createElement']('div');_0x4a1a06[_0x515745(0x18f)]=_0x515745(0x1cd),_0x4a1a06[_0x515745(0x17f)]=_0x515745(0x19e)+_0x47ae7b['name']+_0x515745(0x1a0)+_0x47ae7b['subValues'][_0x515745(0x196)](_0x4200a7=>_0x515745(0x184)+_0x4200a7[_0x515745(0x1d3)]+_0x515745(0x198))[_0x515745(0x188)]('')+_0x515745(0x1a6);const _0x4e2e7a=_0x4a1a06[_0x515745(0x1da)](_0x515745(0x1a1));let _0x2332dd='';_0x1bccdc['forEach'](_0x4ae901=>{const _0x2b5d20=_0x515745,_0x5f5025=_0x3953a3[_0x2b5d20(0x1b5)][_0x2b5d20(0x1d1)](_0x3bb132=>_0x3bb132['id']===_0x4ae901[_0x2b5d20(0x175)]);if(!_0x5f5025)return;if(!_0x5f5025['grades'])_0x5f5025[_0x2b5d20(0x1ae)]={};if(!_0x5f5025['grades'][_0x10f8e7])_0x5f5025[_0x2b5d20(0x1ae)][_0x10f8e7]={'semester1':{},'semester2':{}};if(!_0x5f5025[_0x2b5d20(0x1ae)][_0x10f8e7][_0x3a9410])_0x5f5025[_0x2b5d20(0x1ae)][_0x10f8e7][_0x3a9410]={'character':{}};if(!_0x5f5025[_0x2b5d20(0x1ae)][_0x10f8e7][_0x3a9410][_0x2b5d20(0x1bf)])_0x5f5025[_0x2b5d20(0x1ae)][_0x10f8e7][_0x3a9410][_0x2b5d20(0x1bf)]={};if(!_0x5f5025[_0x2b5d20(0x1ae)][_0x10f8e7][_0x3a9410][_0x2b5d20(0x1bf)][_0x47ae7b['name']])_0x5f5025[_0x2b5d20(0x1ae)][_0x10f8e7][_0x3a9410][_0x2b5d20(0x1bf)][_0x47ae7b[_0x2b5d20(0x1d3)]]={};const _0x4d6d62=_0x5f5025[_0x2b5d20(0x1ae)][_0x10f8e7][_0x3a9410][_0x2b5d20(0x1bf)][_0x47ae7b[_0x2b5d20(0x1d3)]];let _0x41b2a6=_0x2b5d20(0x1eb)+_0x5f5025[_0x2b5d20(0x1ff)]+_0x2b5d20(0x17c)+_0x5f5025[_0x2b5d20(0x191)]+_0x2b5d20(0x178);_0x47ae7b[_0x2b5d20(0x1c0)][_0x2b5d20(0x1f0)](_0x455701=>{const _0x61316a=_0x2b5d20,_0x4b9065=_0x4d6d62[_0x455701[_0x61316a(0x1d3)]]||'',_0x86f4af=_0x27b7c2[_0x61316a(0x196)](_0x5b5ffe=>_0x61316a(0x18d)+_0x5b5ffe+'\x22\x20'+(_0x5b5ffe===_0x4b9065?_0x61316a(0x1a8):'')+'>'+_0x5b5ffe+'</option>')['join']('');_0x41b2a6+=_0x61316a(0x173)+_0x5f5025['id']+_0x61316a(0x1d7)+_0x47ae7b[_0x61316a(0x1d3)]+_0x61316a(0x1d9)+_0x455701['name']+_0x61316a(0x1f6)+_0x3a9410+_0x61316a(0x1f9)+_0x86f4af+_0x61316a(0x19d);}),_0x41b2a6+=_0x2b5d20(0x1e0),_0x2332dd+=_0x41b2a6;}),_0x4e2e7a[_0x515745(0x17f)]=_0x2332dd,_0x51d496['appendChild'](_0x4a1a06);});},_0x2f64b4=_0x26218e=>{clearTimeout(_0x274989),_0x274989=setTimeout(()=>{const _0x409114=_0x2833,_0x13d076=_0x26218e[_0x409114(0x1ac)],_0x1be2d0=Number(_0x13d076[_0x409114(0x17b)]['studentId']),_0x2c156e=_0x13d076[_0x409114(0x17b)][_0x409114(0x1b2)],_0x2042ec=_0x13d076[_0x409114(0x17b)]['semester'];let _0x151051=_0x3953a3[_0x409114(0x1b5)][_0x409114(0x1d1)](_0x347f59=>_0x347f59['id']===_0x1be2d0);if(!_0x151051)return;if(!_0x151051[_0x409114(0x1ae)])_0x151051[_0x409114(0x1ae)]={};if(!_0x151051['grades'][_0x10f8e7])_0x151051[_0x409114(0x1ae)][_0x10f8e7]={};if(!_0x151051[_0x409114(0x1ae)][_0x10f8e7][_0x2042ec])_0x151051[_0x409114(0x1ae)][_0x10f8e7][_0x2042ec]={'subjects':{},'extracurriculars':{},'absences':{},'character':{}};const _0x24f62f=_0x151051['grades'][_0x10f8e7][_0x2042ec];if(_0x2c156e===_0x409114(0x1cf)||_0x2c156e===_0x409114(0x1c7)||_0x2c156e==='absence'){const _0x2731be=_0x13d076[_0x409114(0x17b)][_0x409114(0x1d3)],_0x3c3103=_0x2c156e===_0x409114(0x1cf)||_0x2c156e===_0x409114(0x1f3)?Number(_0x13d076['value']):_0x13d076['value'];if(_0x2c156e===_0x409114(0x1cf))_0x24f62f['subjects'][_0x2731be]=_0x3c3103;else{if(_0x2c156e==='extracurricular')_0x24f62f[_0x409114(0x18a)][_0x2731be]=_0x3c3103;else{if(_0x2c156e===_0x409114(0x1f3))_0x24f62f[_0x409114(0x1d2)][_0x2731be]=_0x3c3103;}}}else{if(_0x2c156e==='character'){const _0x3c391c=_0x13d076[_0x409114(0x17b)][_0x409114(0x19b)],_0x1f53fa=_0x13d076['dataset'][_0x409114(0x17d)];!_0x24f62f['character'][_0x3c391c]&&(_0x24f62f['character'][_0x3c391c]={}),_0x24f62f[_0x409114(0x1bf)][_0x3c391c][_0x1f53fa]=_0x13d076[_0x409114(0x1b4)];}}saveDb(_0x3953a3),_0x20ba9f(_0x409114(0x186));},0x1f4);};_0x35f3d8[_0xcb7eb0(0x1aa)](_0xcb7eb0(0x1b1),_0x2f64b4),document[_0xcb7eb0(0x1bd)](_0xcb7eb0(0x185))[_0xcb7eb0(0x1aa)](_0xcb7eb0(0x1c9),()=>{const _0x418d59=_0xcb7eb0;sessionStorage[_0x418d59(0x19c)](_0x418d59(0x1f4)),window[_0x418d59(0x200)][_0x418d59(0x182)]();}),_0x5cccd9['addEventListener'](_0xcb7eb0(0x1b1),_0x92fdba=>{const _0x5aadf0=_0xcb7eb0;_0x10f8e7=_0x92fdba['target'][_0x5aadf0(0x1b4)],_0x12c572();});const _0x33c5dd=()=>{const _0x3687b3=_0xcb7eb0,_0x43dc55=JSON[_0x3687b3(0x1d4)](sessionStorage['getItem'](_0x3687b3(0x1f4)));if(_0x43dc55&&_0x43dc55[_0x3687b3(0x1f2)]===_0x3687b3(0x1bb)){_0x1b4e58['style'][_0x3687b3(0x1f7)]='none',_0x35f3d8[_0x3687b3(0x1d6)][_0x3687b3(0x1f7)]=_0x3687b3(0x171),_0xba09ea[_0x3687b3(0x1e2)]=_0x3687b3(0x16d)+_0x43dc55['nama']+'!';const _0x14eb77=Object[_0x3687b3(0x1e4)](_0x3953a3[_0x3687b3(0x1d0)])[_0x3687b3(0x16f)](_0x377d6c=>_0x3953a3[_0x3687b3(0x1d0)][_0x377d6c][_0x3687b3(0x1fc)]['some'](_0x5b196e=>_0x5b196e[_0x3687b3(0x1b8)]===_0x43dc55[_0x3687b3(0x1b8)]));_0x10f8e7=_0x3953a3[_0x3687b3(0x193)];const _0x169730=_0x14eb77[_0x3687b3(0x1c2)]()[_0x3687b3(0x18c)]()[_0x3687b3(0x196)](_0x12942f=>{const _0x2bec46=_0x3687b3,_0x200864=_0x3953a3[_0x2bec46(0x1d0)][_0x12942f]?.['users'][_0x2bec46(0x1d1)](_0x19984a=>_0x19984a['username']===_0x43dc55['username']),_0x36a869=_0x200864?_0x200864['rombelAjar']:_0x2bec46(0x1c8);return _0x2bec46(0x18d)+_0x12942f+'\x22\x20'+(_0x12942f===_0x10f8e7?'selected':'')+'>'+_0x12942f+_0x2bec46(0x1c1)+_0x36a869+_0x2bec46(0x16e);})[_0x3687b3(0x188)]('');_0x5cccd9[_0x3687b3(0x17f)]=_0x169730,document[_0x3687b3(0x1af)](_0x3687b3(0x1e8))[_0x3687b3(0x1f0)](_0x15b142=>{const _0x19ee0d=_0x3687b3;_0x15b142['addEventListener'](_0x19ee0d(0x1c9),()=>{const _0x471590=_0x19ee0d;document[_0x471590(0x1da)](_0x471590(0x1a5))[_0x471590(0x1db)][_0x471590(0x1f1)]('active'),document[_0x471590(0x1da)](_0x471590(0x199))['classList'][_0x471590(0x1f1)](_0x471590(0x1b7)),_0x15b142[_0x471590(0x1db)]['add'](_0x471590(0x1b7)),document[_0x471590(0x1bd)](_0x15b142['dataset']['target'])[_0x471590(0x1db)][_0x471590(0x1ab)](_0x471590(0x1b7));});}),_0x12c572();}else _0x1b4e58[_0x3687b3(0x1d6)][_0x3687b3(0x1f7)]=_0x3687b3(0x1b3),_0x35f3d8['style'][_0x3687b3(0x1f7)]='none';};_0x4b7df4[_0xcb7eb0(0x1aa)](_0xcb7eb0(0x1f5),function(_0x3ed1e7){const _0xbc47b4=_0xcb7eb0;_0x3ed1e7[_0xbc47b4(0x1cc)](),_0x2c7407[_0xbc47b4(0x1e2)]='';const _0x39e97d=document[_0xbc47b4(0x1bd)](_0xbc47b4(0x1b8))[_0xbc47b4(0x1b4)],_0x3a76ef=document['getElementById'](_0xbc47b4(0x183))['value'],_0x5ea594=Object[_0xbc47b4(0x180)](_0x3953a3[_0xbc47b4(0x1d0)])[_0xbc47b4(0x195)](_0x18eb09=>_0x18eb09['users'])[_0xbc47b4(0x1d1)](_0x43eff3=>_0x43eff3[_0xbc47b4(0x1b8)]===_0x39e97d&&_0x43eff3['password']===_0x3a76ef);if(_0x5ea594&&_0x5ea594['role']===_0xbc47b4(0x1bb))sessionStorage['setItem']('loggedInUser',JSON[_0xbc47b4(0x1ba)](_0x5ea594)),_0x33c5dd();else _0x5ea594?_0x1e65a5('Anda\x20tidak\x20memiliki\x20akses\x20Guru.')[_0xbc47b4(0x1e5)](()=>{const _0xe4e079=_0xbc47b4;if(_0x5ea594['role']==='Admin')window[_0xe4e079(0x200)][_0xe4e079(0x1e7)]=_0xe4e079(0x1e3);}):_0x2c7407[_0xbc47b4(0x1e2)]=_0xbc47b4(0x1d5);}),_0x33c5dd();}));

		
    </script>
</body>
</html>
