<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informasi Sekolah & Rapor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="https://lh3.googleusercontent.com/d/16rll5zsRdwTbR3nF_NmPKwY51tg4tnOn">
    <link rel="stylesheet" href="style.css">
    <style>
        /* === CSS Desain Minimalis === */
        body { background: var(--bg-color); }
        .container {
            max-width: 950px; background-color: #ffffff;
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.08); border-radius: 16px;
            padding: 30px 40px; margin-top: 20px; border: 1px solid var(--border-color);
        }
        .page-header {
            display: flex; align-items: center; gap: 20px;
            margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px solid var(--border-color);
        }
        .page-header h1 { margin: 0; padding: 0; border: none; font-size: 1.8em; color: var(--text-color); }
        .home-link { display: inline-flex; color: var(--text-color); transition: color 0.2s; }
        .home-link:hover { color: var(--primary-color); }
        .home-link i { font-size: 1.8em; }
        .form-section-title {
            font-size: 1.2em; font-weight: 600; color: var(--secondary-color);
            margin-top: 20px; margin-bottom: 20px;
            grid-column: 1 / -1; display: flex; align-items: center; gap: 10px;
        }
        .form-section-title:first-child { margin-top: 0; }
        .form-section-title .line { flex-grow: 1; height: 1px; background-color: var(--border-color); }
        .input-group { position: relative; display: flex; align-items: center; }
        .input-group .icon {
            position: absolute; left: 15px; color: #aaa;
            font-size: 0.9em; transition: color 0.2s; pointer-events: none;
        }
        .input-group input, .input-group select { padding-left: 40px !important; }
        .input-group input:focus + .icon, .input-group select:focus + .icon { color: var(--primary-color); }
        .form-grid { display: grid; gap: 18px 40px; grid-template-columns: repeat(2, 1fr); }
        .submit-container {
            display: flex; justify-content: flex-end; align-items: center; gap: 15px;
            margin-top: 30px; padding-top: 20px; border-top: 1px solid var(--border-color);
        }
        .submit-container button {
            font-size: 1em; padding: 12px 30px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            box-shadow: 0 4px 20px rgba(74,144,226,0.4);
        }
        .submit-container button i { margin-right: 8px; }
        
        /* === CSS BARU UNTUK UPLOAD LOGO === */
        .logo-uploader {
            grid-column: 1 / -1; /* Mengambil lebar penuh */
            display: flex;
            align-items: center;
            gap: 30px;
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            border: 1px dashed var(--border-color);
        }
        .logo-preview {
            width: 100px;
            height: 100px;
            border-radius: 50%; /* Membuat frame menjadi lingkaran */
            border: 3px solid #fff;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #e9ecef;
            flex-shrink: 0;
        }
        .logo-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Memastikan logo mengisi frame tanpa distorsi */
        }
        .logo-instructions p { margin: 0 0 10px 0; font-size: 0.9em; color: #6c757d; }
        .logo-actions { display: flex; gap: 10px; }
        .logo-actions label, .logo-actions button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            font-size: 0.9em;
            border-radius: 8px;
            cursor: pointer;
            border: 1px solid var(--border-color);
            background-color: #fff;
            color: var(--text-color);
            transition: all 0.2s ease;
        }
        .logo-actions label:hover, .logo-actions button:hover {
             border-color: var(--primary-color);
             background-color: var(--primary-color);
             color: #fff;
        }
        .logo-actions button { background-color: #f1f1f1; border-color: #ddd; }
        .logo-actions button:hover { background-color: var(--danger-color); border-color: var(--danger-color); color: #fff;}
        #logoUploadInput { display: none; } /* Sembunyikan input file asli */
        
        @media (max-width: 768px) {
            .form-grid { grid-template-columns: 1fr; }
            .logo-uploader { flex-direction: column; text-align: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="page-header">
             <a href="./" class="home-link" title="Kembali ke Menu Utama">
                <i class="fa-solid fa-circle-chevron-left"></i>
            </a>
            <h1>Pengaturan Informasi Sekolah</h1>
        </header>

        <form id="formInfoDasar">
            <div class="form-grid">

                <div class="logo-uploader">
                    <div class="logo-preview">
                        <img id="logoPreview" src="https://via.placeholder.com/100" alt="Logo Sekolah">
                    </div>
                    <div class="logo-instructions">
                        <h4>Logo Sekolah</h4>
                        <p>Unggah logo sekolah Anda. Format yang disarankan adalah JPG, PNG, atau SVG dengan rasio 1:1 (persegi).</p>
                        <div class="logo-actions">
                            <label for="logoUploadInput"><i class="fa-solid fa-arrow-up-from-bracket"></i> Pilih File</label>
                            <input type="file" id="logoUploadInput" accept="image/*">
                            <button type="button" id="removeLogoButton"><i class="fa-solid fa-trash"></i> Hapus Logo</button>
                        </div>
                    </div>
                </div>

                <div class="form-section-title">
                    <span>Identitas Sekolah</span><div class="line"></div>
                </div>
                <div><label for="namaSekolah">Nama Sekolah</label><div class="input-group"><input type="text" id="namaSekolah" placeholder="Nama lengkap sekolah..." required><i class="icon fa-solid fa-school"></i></div></div>
                <div><label for="npsn">NPSN</label><div class="input-group"><input type="number" id="npsn" placeholder="8 digit NPSN..."><i class="icon fa-solid fa-hashtag"></i></div></div>
                <div><label for="jenjang">Jenjang Pendidikan</label><div class="input-group"><select id="jenjang"><option>Sekolah Dasar</option><option>Sekolah Dasar Islam Terpadu</option><option>Sekolah Dasar Kristen</option><option>Sekolah Menengah Pertama</option><option>Sekolah Menengah Pertama Islam Terpadu</option><option>Sekolah Menengah Atas</option><option>Sekolah Menengah Atas Islam Terpadu</option><option>Sekolah Menengah Kejuruan</option></select><i class="icon fa-solid fa-layer-group"></i></div></div>
                <div><label for="alamat">Alamat Jalan</label><div class="input-group"><input type="text" id="alamat" placeholder="Nama jalan, nomor, RT/RW..."><i class="icon fa-solid fa-map-location-dot"></i></div></div>
                <div><label for="desaKelurahan">Desa / Kelurahan</label><div class="input-group"><input type="text" id="desaKelurahan" placeholder="Contoh: Cijantung"><i class="icon fa-solid fa-signs-post"></i></div></div>
                <div><label for="kecamatan">Kecamatan</label><div class="input-group"><input type="text" id="kecamatan" placeholder="Contoh: Pasar Rebo"><i class="icon fa-solid fa-map-marked-alt"></i></div></div>
                <div><label for="kabupatenKota">Kabupaten / Kota</label><div class="input-group"><input type="text" id="kabupatenKota" placeholder="Contoh: Jakarta Timur"><i class="icon fa-solid fa-city"></i></div></div>
                <div><label for="provinsi">Provinsi</label><div class="input-group"><input type="text" id="provinsi" placeholder="Contoh: DKI Jakarta"><i class="icon fa-solid fa-flag"></i></div></div>
                <div><label for="telpon">Telepon</label><div class="input-group"><input type="text" id="telpon" placeholder="Nomor telepon aktif..."><i class="icon fa-solid fa-phone"></i></div></div>
                <div><label for="website">Website</label><div class="input-group"><input type="text" id="website" placeholder="https://sekolah.sch.id"><i class="icon fa-solid fa-globe"></i></div></div>
                <div><label for="email">Email</label><div class="input-group"><input type="email" id="email" placeholder="kontak@sekolah.sch.id"><i class="icon fa-solid fa-envelope"></i></div></div>
                
                <div class="form-section-title">
                    <span>Personalia & Pengaturan Rapor</span><div class="line"></div>
                </div>
                <div><label for="kepalaSekolah">Nama Kepala Sekolah</label><div class="input-group"><input type="text" id="kepalaSekolah" placeholder="Nama lengkap & gelar..."><i class="icon fa-solid fa-user-tie"></i></div></div>
                <div><label for="nipKepsek">NIP Kepala Sekolah</label><div class="input-group"><input type="text" id="nipKepsek" placeholder="NIP tanpa spasi..."><i class="icon fa-solid fa-id-card"></i></div></div>
                <div><label for="namaGuru">Nama Guru / Wali Kelas</label><div class="input-group"><input type="text" id="namaGuru" required placeholder="Nama lengkap & gelar..."><i class="icon fa-solid fa-user-chalkboard"></i></div></div>
                <div><label for="nipGuru">NIP Guru Kelas</label><div class="input-group"><input type="text" id="nipGuru" placeholder="NIP/NUPTK/PegID..."><i class="icon fa-solid fa-id-card-clip"></i></div></div>
                <div><label for="whatsappGuru">Nomor WhatsApp Guru</label><div class="input-group"><input type="text" id="whatsappGuru" placeholder="Contoh: 081234567890"><i class="icon fa-brands fa-whatsapp"></i></div></div>
                <div><label for="kelas">Kelas</label><div class="input-group"><input type="text" id="kelas" placeholder="Contoh: IV A"><i class="icon fa-solid fa-person-shelter"></i></div></div>
                <div><label for="fase">Fase</label><div class="input-group"><input type="text" id="fase" placeholder="Contoh: B"><i class="icon fa-solid fa-star"></i></div></div>
                <div><label for="semester">Semester</label><div class="input-group"><select id="semester"><option value="1">1 (Ganjil)</option><option value="2">2 (Genap)</option></select><i class="icon fa-solid fa-calendar-days"></i></div></div>
                <div><label for="tahunAjaran">Tahun Ajaran</label><div class="input-group"><input type="text" id="tahunAjaran" placeholder="Contoh: 2024/2025" required><i class="icon fa-solid fa-graduation-cap"></i></div></div>
                <div><label for="tanggalRaporDepan">Tanggal Rapor (Halaman Depan)</label><div class="input-group"><input type="date" id="tanggalRaporDepan"><i class="icon fa-solid fa-file-signature"></i></div></div>
                <div><label for="tanggalRaporNilai">Tanggal Rapor (Halaman Nilai)</label><div class="input-group"><input type="date" id="tanggalRaporNilai"><i class="icon fa-solid fa-file-pen"></i></div></div>
            </div>

            <div class="submit-container">
                 <button type="submit"><i class="fa-solid fa-floppy-disk"></i>Simpan Semua Data</button>
            </div>
        </form>
    </div>

    <script src="bangbin_uhuuyy.js"></script>
<script src="bangbin_uhuuyy.js"></script>
    <script>

const _0x6fb3bb=_0x2d69;function _0x2d69(_0x93c9b7,_0x29df2d){const _0x176971=_0x1769();return _0x2d69=function(_0x2d69b3,_0x59c53d){_0x2d69b3=_0x2d69b3-0x126;let _0x4d0477=_0x176971[_0x2d69b3];return _0x4d0477;},_0x2d69(_0x93c9b7,_0x29df2d);}function _0x1769(){const _0x5d4624=['https://script.google.com/macros/s/AKfycbyuHIpJYfjg7Yf_FssU53sPcF5mUzV5vbfDriQafq-M6wWrK_lOjCBRYm65Ju-T4DFXTQ/exec','json','src','Gagal\x20menghubungi\x20Google\x20Sheet:','3lPaTOp','infoDasar','whatsappGuru','removeLogoButton','734180GmIPLS','telpon','Seluruh\x20informasi\x20sekolah\x20telah\x20berhasil\x20diperbarui.','provinsi','preventDefault','submit','56582ssTEoH','website','toLocaleString','1171395AkmSxH','724044EJrOco','forEach','Asia/Jakarta','image/','onload','desaKelurahan','tahunAjaran','kepalaSekolah','alamat','readAsDataURL','value','557081YOGuEt','type','message','kelas','npsn','getElementById','log','2016llkiaQ','error','517624skvRZg','stringify','https://www.kemendikdasmen.go.id/web/image/website/21/favicon?unique=c3563e4','jenjang','nipGuru','target','Berhasil\x20Disimpan!\x20✨','semester','logoPreview','result','logoUploadInput','nipKepsek','tanggalRaporDepan','namaGuru','click','status','tanggalRaporNilai','email','DOMContentLoaded','startsWith','logoSekolah','904DrlEnS','text/plain;charset=utf-8','Respons\x20dari\x20Google\x20Sheet:','addEventListener','kabupatenKota'];_0x1769=function(){return _0x5d4624;};return _0x1769();}(function(_0x4021cb,_0x4b92d3){const _0x595c0f=_0x2d69,_0x205737=_0x4021cb();while(!![]){try{const _0x514809=parseInt(_0x595c0f(0x14d))/0x1*(-parseInt(_0x595c0f(0x157))/0x2)+parseInt(_0x595c0f(0x12d))/0x3*(parseInt(_0x595c0f(0x144))/0x4)+parseInt(_0x595c0f(0x151))/0x5+-parseInt(_0x595c0f(0x15b))/0x6+parseInt(_0x595c0f(0x126))/0x7+parseInt(_0x595c0f(0x12f))/0x8+-parseInt(_0x595c0f(0x15a))/0x9;if(_0x514809===_0x4b92d3)break;else _0x205737['push'](_0x205737['shift']());}catch(_0x586c8f){_0x205737['push'](_0x205737['shift']());}}}(_0x1769,0x1a31c),document[_0x6fb3bb(0x147)](_0x6fb3bb(0x141),()=>{const _0x28239c=_0x6fb3bb,_0xbadc1f=loadData(),_0xd169d8=document[_0x28239c(0x12b)]('formInfoDasar'),_0x2b9e87=async _0x10376c=>{const _0x5d6134=_0x28239c,_0x216a63=_0x5d6134(0x149),_0x36ad4b={'timestamp':new Date()[_0x5d6134(0x159)]('id-ID',{'timeZone':_0x5d6134(0x15d)}),'namaGuru':_0x10376c[_0x5d6134(0x13c)],'namaSekolah':_0x10376c['namaSekolah'],'desaKelurahan':_0x10376c['desaKelurahan'],'kecamatan':_0x10376c['kecamatan'],'kabupatenKota':_0x10376c[_0x5d6134(0x148)],'provinsi':_0x10376c[_0x5d6134(0x154)],'whatsappGuru':_0x10376c[_0x5d6134(0x14f)],'kelas':_0x10376c[_0x5d6134(0x129)],'jenjang':_0x10376c[_0x5d6134(0x132)]};try{const _0x2d0ccb=await fetch(_0x216a63,{'method':'POST','headers':{'Content-Type':_0x5d6134(0x145)},'body':JSON[_0x5d6134(0x130)](_0x36ad4b)}),_0x40976b=await _0x2d0ccb[_0x5d6134(0x14a)]();_0x40976b[_0x5d6134(0x13e)]==='success'?console[_0x5d6134(0x12c)](_0x5d6134(0x146),_0x40976b[_0x5d6134(0x128)]):console[_0x5d6134(0x12e)]('Error\x20dari\x20Google\x20Sheet:',_0x40976b[_0x5d6134(0x128)]);}catch(_0x333587){console[_0x5d6134(0x12e)](_0x5d6134(0x14c),_0x333587);}},_0x1d3086=document[_0x28239c(0x12b)](_0x28239c(0x139)),_0x189c7b=document[_0x28239c(0x12b)](_0x28239c(0x137)),_0x4c8652=document[_0x28239c(0x12b)](_0x28239c(0x150)),_0x13853c=_0x28239c(0x131),_0x47942e=()=>{const _0x4f8e77=_0x28239c;_0xbadc1f[_0x4f8e77(0x14e)][_0x4f8e77(0x143)]&&_0xbadc1f[_0x4f8e77(0x14e)][_0x4f8e77(0x143)][_0x4f8e77(0x142)]('data:image')?_0x189c7b['src']=_0xbadc1f[_0x4f8e77(0x14e)][_0x4f8e77(0x143)]:_0x189c7b[_0x4f8e77(0x14b)]=_0x13853c;};_0x1d3086[_0x28239c(0x147)]('change',function(_0x5f5c23){const _0x27b447=_0x28239c,_0x20f8e9=_0x5f5c23[_0x27b447(0x134)]['files'][0x0];if(_0x20f8e9&&_0x20f8e9[_0x27b447(0x127)]['startsWith'](_0x27b447(0x15e))){const _0x591452=new FileReader();_0x591452[_0x27b447(0x15f)]=function(_0x283bb0){const _0x32cc4d=_0x27b447,_0x41859e=_0x283bb0['target'][_0x32cc4d(0x138)];_0x189c7b[_0x32cc4d(0x14b)]=_0x41859e,_0xbadc1f[_0x32cc4d(0x14e)][_0x32cc4d(0x143)]=_0x41859e;},_0x591452[_0x27b447(0x164)](_0x20f8e9);}}),_0x4c8652[_0x28239c(0x147)](_0x28239c(0x13d),()=>{const _0x27881d=_0x28239c;_0x189c7b[_0x27881d(0x14b)]=_0x13853c,_0xbadc1f[_0x27881d(0x14e)][_0x27881d(0x143)]='',_0x1d3086[_0x27881d(0x165)]='';});const _0x4f5c09=['namaSekolah',_0x28239c(0x12a),'jenjang',_0x28239c(0x163),_0x28239c(0x160),'kecamatan',_0x28239c(0x148),'provinsi',_0x28239c(0x158),_0x28239c(0x140),_0x28239c(0x152),_0x28239c(0x162),_0x28239c(0x13a),'namaGuru',_0x28239c(0x133),_0x28239c(0x14f),'kelas','fase',_0x28239c(0x136),_0x28239c(0x161),_0x28239c(0x13b),_0x28239c(0x13f)],_0x23437f=()=>{const _0x35533e=_0x28239c;_0x47942e();const _0x581735=_0xbadc1f[_0x35533e(0x14e)];_0x4f5c09[_0x35533e(0x15c)](_0x4cffdd=>{const _0x6391f=document['getElementById'](_0x4cffdd);_0x6391f&&(_0x6391f['value']=_0x581735[_0x4cffdd]||'');});};_0xd169d8[_0x28239c(0x147)](_0x28239c(0x156),async _0x58c5a7=>{const _0xbd5224=_0x28239c;_0x58c5a7[_0xbd5224(0x155)](),_0x4f5c09['forEach'](_0xc4f962=>{const _0x2f2d39=_0xbd5224,_0xf511c9=document[_0x2f2d39(0x12b)](_0xc4f962);_0xf511c9&&(_0xbadc1f[_0x2f2d39(0x14e)][_0xc4f962]=_0xf511c9[_0x2f2d39(0x165)]);}),saveData(_0xbadc1f),_0x2b9e87(_0xbadc1f['infoDasar']),await showModal(_0xbd5224(0x135),_0xbd5224(0x153));}),_0x23437f();}));


    </script>
</body>

</html>
